# 1과목 1파트 데이터 모델링의 이해

## 데이터베이스란?

- 여러 데이터들을 모아 통합적으로 관리하는 기술
- 여러 사람들이 함께 사용하고 공유할 수 있다.
- 데이터베이스가 출시되면서 데이터를 한 곳에 모아 저장하고 공유할 수 있게 되었다.

## 데이터 모델이란?

- 현실 세계의 대상을 추상화, 단순화, 명확화 하여 데이터베이스로 표현하는 것.

---

---

<br>

# 01. 엔터티 이해하기

## 엔터티(ENTITY, 개체) 란?

- 업무에 필요한 정보를 저장/ 관리하기 위한 집합적인 명사 개념

## 인스턴스(INTANCE) 란?

- 엔터티 집합 내에 존재하는 개별적인 대상

## 엔터티의 특징

- 반드시 업무에서 필요한 대상이고 업무에 사용될 것.
- 유일한 식별자로 식별이 가능할 것
- 인스턴스가 2개 이상일 것
- 속성이 반드시 2개 이상 존재할 것
- 관계가 하나 이상 존재할 것 (단 코드성, 통계성은 생략 가능)
- \* 식별자, 속성, 관계 개념은 뒤에서 다룹니다.

## 엔터티의 분류 (유무형에 따라 분류)

- 유형
  - 물리적 형태가 있는 엔터티
- 개념
  - 물리적 형태가 없는 엔터티
- 사건 (제일 많이 발생)
  - 업무 수행 중에 발생하는 엔터티

## 엔터티의 분류 (발생시점에 따라 분류)

- 기본/키
  - 본래 업무에 존재하는 정보
  - 독립 생성 가능, 주식별자 보유
- 중심
  - 기본 엔터티로부터 발생
  - 업무에 있어 중심 역할
- 행위
  - 2개 이상 엔터티로부터 발생

## 엔터티의 명명(naming) 규칙

- 가능한 현업 용어를 쓴다. ex) 사람 -> 고객, 전봇대 -> 전주
- 가능하면 약어를 사용하지 않는다. ex) 일별매출정보 -> 일매목
- 단수 명사를 사용한다. ex) 직원들 -> 직원, 주문내역들-> 주문내역
- 언테티 이름은 유일해야 한다.
- 엔터티 생성의미대로 이름을 부여한다. <br> ex) 연락처목록 -> 직원연락처목록? 고객연락처목록?

---

---

<br>

# 02. 속성(ATTRIBUTE) 이해하기

## 속성(ATTRIBUTE) 이란?

- 업무상 관리하기 위해 의미적으로 더는 분리되지 않는 최소의 데이터 단위

## 엔터티, 인스턴스, 속성의 관계

- 하나의 엔터티는 2개 이상의 인스턴스를 가진다.
- 하나의 엔터티는 2개 이상의 속성을 가진다.
- 속성은 각 인스턴스를 설명해줄 수 있다.
- 하나의 속성에는 하나의 속성값만 들어간다.

## 식별자란?

- 엔터티 내 유일한 인스턴스를 식별할 수 있는 속성의 집합

## 속성의 분류 (특성에 따른 분류)

- 기본
  - 업무로부터 추출한 속성으로 제일 많이 발생
- 설계
  - 설계 시 규칙화 등이 필요해 만든 속성
  - 코드성이나 일련번호 등
- 파생
  - 다른 속성들로부터 계산/변형 되어 만들어진 속성

## 속성의 분류 (구성 방식에 따른 분류)

- PK, FK, 일반속성, 복합속성

## 속성 명명(NAMING) 규칙

- 가능한 현업 용어를 쓴다.
- 가능하면 약어를 사용하지 않는다.
- 명사형을 쓰고 서술식이나 수식어 등을 제한한다. ex) 오늘배송된상품 -> 일배송상품
- 가능한 속성 이름은 전체 데이터 모델에서 유일해야 한다.

## 도메인(DOMAIN) 이란?

- 각 속성이 입력 받을 수 있는 값의 정의 및 범위를 의미
- 보통 테이블을 만들 때 각 속성마다 자료형 및 제약조건을 줄 때 결정된다.

---

---

<br>

# 03. 관계(Relationship) 이해하기

## 관계(Relationship) 란?

- 엔터티 내의 인스턴스들 간에 서로 논리적인 연관성이 있는 상태

## 관계의 분류 - 존재/행위

- 존재에 의한 관계 ex) 직원(소속되다) - 부서(보유하다)
- 행위에 의한 관계 ex) 고객(주문하다) - 상품(주문되다)
- ERD는 존재/행위 등 관계를 위처럼 똑같이 표시
- UML 클래스다이어그램은 연관관계(존재)는 실선으로 표기하고, 의존관계(행위)는 점선으로 표기.

## 관계를 표시하는 방법

- 관계명(Membership)
- 관계차수(Cardinality/Degree)
- 관계선택사양(Optionality)

- 관계명을 표시한다. 이때 애매한 동사나 과거형은 피한다.
  - 직원(소속되다) - 부서(보유하다)
  - 고객(주문하다) - 상품(주문되다)
- 관계차수는 엔터티 내 각 인스턴트들이 얼마나 참여하는지를 의미한다.
  - 1:1 관계
    - ex) 한 학생 당 하나의 과목만 수강 신청 가능
  - 1:M 관계
    - ex) 한 학생 당 여러 과목을 수강 신청 가능
  - N:M 관계
    - ex) 여러 학생이 여러 과목을 수강 신청 가능
- 관계선택사양은 엔터티 내 각 인스턴스들이 필수/선택 참여하는지를 의미한다.

## 관계 체크 사항 (현재 설정한 관계가 적합한지 보는 체크리스트)

- 두 엔터티 사이에 관심 있는 **연관규칙**이 있는가?
- 두 엔터티 사이에 **정보의 조합**이 발생하는가?
- 업무 기술서, 장표에 관계연결에 대한 **규칙이 서술** 되었는가?
- 업무기술서, 장표에 관계연결을 가능케 하는 **동사(Verb)** 가 있는가?

---

---

<br>

# 04~05. 식별자 & 데이터 모델 이해하기

## 데이터 모델링이란?

- 현실세계의 복잡한 대상을 단순하게 표현하기 위해 추상화, 단순화, 명확화하여 일정표기법으로 표시하는 것으로 계획/분석/설계 시 **업무분석 및 설계, 설명**에 사용, 구축/운영 시에는 **변경, 관리 목적**으로 사용

## 데이터 모델링 3단계(개념 - 논리 - 물리)

- 개념적 데이터 모델링
  - 추상적
  - 업무중심적
  - 포괄적
  - 전사적(EA)
  - DBMS독립적
  - ERD생성
- 논리적 데이터 모델링
  - KEY, 속성, 관계 등을 정의
  - 재사용성이 높음
  - 특정 DBMS에 종속적
  - 정규화 수행
- 물리적 데이터 모델링
  - 실제 DB에 이식되도록 성능, 저장 등 물리적 성격 고려
  - 수준이 구체적임

## ERD란?

- 엔터티(Entity)와 엔터티 간의 관계(Relationship)를 발견하고 이를 그림(Diagram)으로 표현하는 행위로 **개념적 데이터 모델링의 결과물**이다.

## 데이터베이스 모델링 - 개념적 모델링

- 엔터티를 그린다. 보통 중요한 엔터티를 왼쪽 상단에 둔다. (속성은 제외)
- 엔터티를 적절히 배치한다.
- 관계를 설정한다. (서로 관계가 있는 엔터티끼리 선으로 이어준다.)
- 관계명을 기술한다.
- 관계의 **참여도(=Cardinality)** 를 기술한다.
  - 참여도란 엔터티 안의 인스턴스들이 얼마나 참여하는지를 의미한다.
    **1:1, 1:N, N:N 관계** 등이 있으며, N쪽에는 까치발(>)로 표시한다.
- 관계의 **필수여부(=Optionality)** 를 기술한다.
  - 필수여부란 엔터티 안의 인스턴스들이 반드시 참여하는지를 의미한다.
  - 최소 참여는 (I)을 표시하고, 선택 참여는 (0)으로 표시한다.

## 데이터베이스 모델링 - 논리적 모델링

- **속성**을 아래로 모두 입력합니다.
  직원|부서|
  ---|---|
  직원ID|부서ID|
  패스워드|부서명|
  이름|근무지|
  성별|
  나이|
  입사일시|
  주민등록번호|
  연봉|
  연락처|
  주소|

- 각 엔터티에서 **식별자(PK: PRIMARY KEY)** 를 선택합니다.
  직원(PK)|부서(PK)|
  ---|---|
  직원ID|부서ID|
  패스워드|부서명|
  이름|근무지|
  성별|
  나이|
  입사일시|
  주민등록번호|
  연봉|
  연락처|
  주소|

- **정규화** 를 수행해 중복되는 데이터 입력이 없도록 합니다.
  |직원(PK)|부서(PK)|직원연락처(PK)|직원주소(PK)|
  |---|---|---|---|
  |패스워드|부서명|연락처|주소|
  |이름|근무지|
  |성별|
  |나이|
  |입사일시|
  |주민등록번호|
  |연봉|

- **관계설정(FOREIGN KEY)** 을 한다. -> 정규화로 쪼개진 대상들을 연결하기 위해 식별자를 빌려온다.
  |직원(PK)|부서(PK)|직원연락처(PK)<br>(직원IDFK)|직원주소(PK)<br>(직원IDFK)|
  |---|---|---|---|
  |패스워드|부서명|연락처|주소|
  |이름|근무지|
  |성별|
  |나이|
  |입사일시|
  |주민등록번호|
  |연봉|
  |부서ID(FK)|

## 데이터 모델링이 왜 중요할까?

- 파급효과 : 초반에 엉망으로 설계하고 개발하다가 나중에 엎게 되면 힘들어짐
- 간결한 표현 : 서로 의사소통을 위해 모델링된 설계도(erd 등)으로 쉽게 이해가능
- 데이터 품질 : 애초에 데이터 모델링을 제대로 해야 **이상한 데이터**가 안 들어감
  - (데이터 중복, 비유연성, 비일관성 등)

## 논리적 모델링 표기법 2가지를 알아봅시다.

### IE표기법

| 직원ID (PK)  | 부서코드 (PK) |
| ------------ | ------------- |
| 이름         | 부서명        |
| 나이         |
| 연봉         |
| 부서코드(FK) |

- 구분된 선 위에는 PK(식별자)임
- FK라고 붙은 속성은 빌려온 외래키(FK)
- 그 외 아무것도 안적힌 속성은 "일반속성"
- 관계차수나 관계선택사양은 그대로 작성
- 관계선이 점선이라면 "비식별자관계"

### Barker 표기법

| #직원ID       | #부서코드 |
| ------------- | --------- |
| O이름         | O부서명   |
| O나이         |
| O연봉         |
| O부서코드(FK) |

- #는 PK(식별자)임
- O는 선택사항, \*는 필수사항임을 의미
- 관계차수나 관계선택사양은 그대로 작성
- 여기는 FK가 O이므로 "비식별자관계"임 (#였으면 식별자관계)

## 데이터베이스 3단계 구조

- **외부**(External) 스키마 : 여러 사용자 각각의 관점
- **개념**(Conceoptual) 스키마 : 통합적, 조직 전체의 DB 관점
- **내부**(Internal) 스키마 : 데이터, 물리 저장 구조 표현
- \* 각 스키마는 독립성을 가진

## 식별자(Identifiers) 란?

- 엔터티 내 **유일하게 인스턴스를 식별할 수 있는 속성의 집합**

## 식별자 분류

\***식별자의 종류는 다양하게 존재합니다.**

- **대표성 여부** : 주식별자 VS 보조식별자
- **스스로생성여부(자생여부)** : 내부식별자 VS 외부식별자
- **단일속성여부** : 단일식별자 VS 복합식별자
- **대체여부** : 본질식별자 VS 인조식별자

## 주식별자 도출기준과 특징

### 도출기준

- 업무에서 자주 쓰는 속성일 것
- 명칭, 이름 등은 피할 것
- 속성의 수가 많지 않을 것

### 특징

- **유일성** : 인스턴스를 유일하게 식별하기
- **최소성** : 속성의 수가 많지 않기
- **불변성** : 가급적 변하지 않기
- **존재성** : 값이 꼭 입력되기

---

---

<br>

# 1과목 2파트 데이터 모델과 SQL

# 01. 정규화
